specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: FranchiseRegistry
    network: goerli
    source:
      address: "0x912C1B747C0cC35f91a087af16ed213B891AcF4a"
      abi: FranchiseRegistry
      startBlock: 9685465
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - FranchiseRegistered
      abis:
        - name: FranchiseRegistry
          file: ./abis/FranchiseRegistry.json
      eventHandlers:
        - event: FranchiseRegistered(address,uint256,address,string,string,string)
          handler: handleFranchiseRegistered
      file: ./src/franchise-registry.ts
  - kind: ethereum
    name: EventEmitter
    network: goerli
    source:
      address: "0xA2Da90bB860DdD42d7a64E5C33cbA32eD30d4AaD"
      abi: EventEmitter
      startBlock: 9685467
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - IPAssetCreated
      abis:
        - name: EventEmitter
          file: ./abis/EventEmitter.json
        - name: IPAssetRegistry
          file: ./abis/IPAssetRegistry.json
      eventHandlers:
        - event: IPAssetCreated(indexed uint256,indexed address,uint256,uint8)
          handler: handleIPAssetCreated
      file: ./src/event-emitter.ts
  - kind: ethereum
    name: IPAssetRegistry
    network: goerli
    source:
      address: "0x9F3389b2c28Bb482DcE65f0cA80C60A3453344e6"
      abi: IPAssetRegistry
      startBlock: 9685465
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - CreateLicense
      abis:
        - name: IPAssetRegistry
          file: ./abis/IPAssetRegistry.json
      eventHandlers:
        - event: CreateLicense(uint256,uint256,uint256,address,string,address)
          handler: handleCreateLicense
      file: ./src/ip-asset-registry.ts
